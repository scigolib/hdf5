# Installation Guide

> **Complete installation instructions for the HDF5 Go library**

---

## 📋 Requirements

### Minimum Requirements
- **Go**: Version 1.25 or later
- **Operating System**: Windows, Linux, macOS, or any Go-supported platform
- **Architecture**: amd64, arm64, or any Go-supported architecture
- **Dependencies**: None (pure Go, no CGo required)

### Optional (for development/testing)
- **Python 3**: For generating test HDF5 files
- **h5py**: Python HDF5 library (`pip install h5py`)
- **golangci-lint**: For code quality checks

---

## 🚀 Installation Methods

### Method 1: Using `go get` (Recommended)

The simplest way to install the library:

```bash
go get github.com/scigolib/hdf5
```

This will:
- Download the library to your `GOPATH`
- Make it available for import in your Go programs
- Install the latest version from the main branch

### Method 2: Using `go.mod` (For Projects)

Add the library to your project's `go.mod`:

```bash
# Initialize a Go module if you haven't already
go mod init myproject

# Add the library
go get github.com/scigolib/hdf5@v0.11.0-beta
```

Or manually add to `go.mod`:

```go
module myproject

go 1.25

require (
    github.com/scigolib/hdf5 v0.11.0-beta
)
```

Then run:
```bash
go mod tidy
```

### Method 3: Clone and Build (For Development)

If you want to contribute or modify the library:

```bash
# Clone the repository
git clone https://github.com/scigolib/hdf5.git
cd hdf5

# Verify installation
go test ./...
```

---

## ✅ Verifying Installation

### Basic Verification

Create a file `test_install.go`:

```go
package main

import (
    "fmt"
    "github.com/scigolib/hdf5"
)

func main() {
    fmt.Println("HDF5 library imported successfully!")
    fmt.Printf("Library version: v0.11.0-beta\n")
}
```

Run it:
```bash
go run test_install.go
```

Expected output:
```
HDF5 library imported successfully!
Library version: v0.11.0-beta
```

### Functional Verification

Test with an actual HDF5 file:

```go
package main

import (
    "fmt"
    "log"
    "github.com/scigolib/hdf5"
)

func main() {
    // Replace with path to your HDF5 file
    file, err := hdf5.Open("yourfile.h5")
    if err != nil {
        log.Fatalf("Failed to open file: %v", err)
    }
    defer file.Close()

    fmt.Printf("✅ Successfully opened HDF5 file\n")
    fmt.Printf("   Superblock version: %d\n", file.SuperblockVersion())

    // Count objects
    var groupCount, datasetCount int
    file.Walk(func(path string, obj hdf5.Object) {
        switch obj.(type) {
        case *hdf5.Group:
            groupCount++
        case *hdf5.Dataset:
            datasetCount++
        }
    })

    fmt.Printf("   Groups: %d\n", groupCount)
    fmt.Printf("   Datasets: %d\n", datasetCount)
}
```

---

## 🌍 Platform-Specific Notes

### Windows

**No special requirements!** The library is pure Go and works on Windows without any C dependencies.

```powershell
# PowerShell
go get github.com/scigolib/hdf5

# Verify
go version  # Should show Go 1.25+
```

**Common Windows issues**:
- Ensure Go is properly installed and in PATH
- Use forward slashes `/` or escaped backslashes `\\` in file paths
- HDF5 files generated by HDF Group's Windows tools work perfectly

### Linux

**No special requirements!** Works on all Linux distributions.

```bash
# Verify Go version
go version  # Should show Go 1.25+

# Install library
go get github.com/scigolib/hdf5
```

**Tested on**:
- Ubuntu 20.04, 22.04, 24.04
- Debian 11, 12
- Fedora 38, 39
- CentOS/RHEL 8, 9
- Arch Linux

### macOS

**No special requirements!** Works on Intel and Apple Silicon Macs.

```bash
# Verify Go version
go version  # Should show Go 1.25+

# Install library
go get github.com/scigolib/hdf5
```

**Tested on**:
- macOS 12 (Monterey)
- macOS 13 (Ventura)
- macOS 14 (Sonoma)
- Both Intel (x86_64) and Apple Silicon (arm64)

---

## 🔧 Development Setup

### For Contributors

If you're contributing to the library:

```bash
# Clone repository
git clone https://github.com/scigolib/hdf5.git
cd hdf5

# Install development tools
go install github.com/golangci/golangci-lint/cmd/golangci-lint@latest

# Run tests
go test ./...

# Run linter
golangci-lint run ./...

# Check test coverage
go test -coverprofile=coverage.out ./...
go tool cover -html=coverage.out
```

### Setting Up Python (Optional)

For generating test HDF5 files:

```bash
# Install Python dependencies
pip install h5py numpy

# Verify installation
python -c "import h5py, numpy; print('HDF5 tools ready!')"
```

---

## 📦 Docker Usage

If you prefer using Docker:

```dockerfile
# Dockerfile
FROM golang:1.25-alpine

WORKDIR /app

# Copy your Go code
COPY . .

# Install the library
RUN go get github.com/scigolib/hdf5

# Build your application
RUN go build -o myapp .

CMD ["./myapp"]
```

Build and run:
```bash
docker build -t myapp .
docker run myapp
```

---

## 🔄 Updating the Library

### Update to Latest Version

```bash
go get -u github.com/scigolib/hdf5
```

### Update to Specific Version

```bash
go get github.com/scigolib/hdf5@v0.11.0-beta
```

### Check Current Version

```bash
go list -m github.com/scigolib/hdf5
```

---

## ❓ Troubleshooting Installation

### "module not found" Error

**Problem**:
```
go: github.com/scigolib/hdf5@v0.11.0-beta: reading github.com/scigolib/hdf5/go.mod at revision v0.11.0-beta: unknown revision v0.11.0-beta
```

**Solution**:
```bash
# Ensure you're using the correct version tag
go get github.com/scigolib/hdf5

# Or use @latest for the newest version
go get github.com/scigolib/hdf5@latest
```

### "Go version too old" Error

**Problem**:
```
go: github.com/scigolib/hdf5 requires go >= 1.25
```

**Solution**:
Update Go to version 1.25 or later:
- **Official Go downloads**: https://golang.org/dl/
- **Ubuntu/Debian**: `sudo snap install go --classic`
- **macOS**: `brew install go`
- **Windows**: Download from https://golang.org/dl/

### Import Path Issues

**Problem**:
```
package github.com/scigolib/hdf5: cannot find package
```

**Solution**:
```bash
# Ensure GOPATH is set correctly
echo $GOPATH  # Should show a path like /home/user/go

# Run go mod tidy to resolve dependencies
go mod tidy

# Clear Go module cache if needed
go clean -modcache
```

### Network/Proxy Issues

**Problem**: Cannot download the library due to network restrictions.

**Solution**:
```bash
# Set up Go proxy
export GOPROXY=https://proxy.golang.org,direct

# Or use a different proxy
export GOPROXY=https://goproxy.cn,direct

# Then try again
go get github.com/scigolib/hdf5
```

---

## 🎓 Next Steps

After installation, explore:

1. **[Quick Start Guide](QUICKSTART.md)** - Your first HDF5 program in 5 minutes
2. **[Reading Data](READING_DATA.md)** - Learn to read datasets and attributes
3. **[Examples](../../examples/)** - 5 comprehensive examples
4. **[API Reference](https://pkg.go.dev/github.com/scigolib/hdf5)** - Complete GoDoc documentation

---

## 📞 Getting Help

- **Documentation**: https://github.com/scigolib/hdf5/tree/main/docs
- **Issues**: https://github.com/scigolib/hdf5/issues
- **Discussions**: https://github.com/scigolib/hdf5/discussions

---

*Last Updated: 2025-10-29*
*Version: 0.10.0-beta*
